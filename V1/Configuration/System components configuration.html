<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>System components configuration </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="System components configuration ">
    <meta name="generator" content="docfx 2.43.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../V1/index.html" width="46">
                <img id="logo" src="../../V1/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Edge System"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="SystemComponentsConfiguration">
<h1 id="system-components-configuration">System components configuration</h1>

<p>Edge Data Store uses JSON configuration files in a protected directory on Windows and Linux to store configuration that is read on startup. While the files are accessible to view, OSIsoft recommends that you use REST or the edgecmd command line tool for any changes you make to the files. As part of making Edge Data Store as secure as possible, any passwords or secrets that you configure are stored in encrypted form (with cryptographic key material stored separately in a secure location.) If you edit the files directly, the system may not work as expected.</p>
<p><strong>Note:</strong> You can edit any single component or facet of the system using REST, but also configure the system as a whole with a single REST call.</p>
<p>Edge Data Store hosts other components. While the initial release of the Edge Data Store includes Modbus TCP, OPC UA, and Storage components, they are only active if you configure the system to use them. The system itself has a relatively small configuration surface area - the list of components and the HTTP Port used for REST calls.</p>
<h2 id="configure-system-components">Configure system components</h2>
<p>The default <em>System_Components.json</em> file for the System component is the following. The Storage component is required for this initial release for Edge Data Store to run. With later releases of Edge Data Store, the storage component may not be required.</p>
<pre><code class="lang-json">[
  {
    &quot;ComponentId&quot;: &quot;Storage&quot;,
    &quot;ComponentType&quot;: &quot;EDS.Component&quot;
  }
]
</code></pre><p> You can add additional Modbus TCP and OPC UA components if you want, but only a single Storage component is supported. </p>
<ol>
<li>To add a new component, in this example a Modbus TCP EDS adapter, create the following JSON. </li>
</ol>
<blockquote><p><strong>Note:</strong> A unique ComponentId is necessary for each component in the system. This example uses the ComponentId Modbus1 since it is the first Modbus TCP EDS adapter:</p>
</blockquote>
<pre><code class="lang-json"> {
   &quot;ComponentId&quot;: &quot;Modbus1&quot;,
   &quot;ComponentType&quot;: &quot;Modbus&quot;
 }
</code></pre><ol>
<li>Save the JSON in a file named <em>AddComponent.json</em>. </li>
<li>From the same directory where the file exists, run the following curl script:</li>
</ol>
<pre><code class="lang-bash">curl -i -d &quot;@AddComponent.json&quot; -H &quot;Content-Type: application/json&quot; -X POST http://localhost:5590/api/v1/configuration/system/components
</code></pre><p>After the curl command completes successfully, you can configure or use the new component.</p>
<h2 id="system-components-schema">System components schema</h2>
<p>The following table defines the basic behavior of the <em>AddComponent.json</em> file.</p>
<table>
<thead>
<tr>
<th>Abstract</th>
<th>Extensible</th>
<th>Status</th>
<th>Identifiable</th>
<th>Custom properties</th>
<th>Additional properties</th>
</tr>
</thead>
<tbody>
<tr>
<td>Can be instantiated</td>
<td>Yes</td>
<td>Experimental</td>
<td>No</td>
<td>Forbidden</td>
<td>Forbidden</td>
</tr>
</tbody>
</table>
<h2 id="parameters-for-system-components">Parameters for system components</h2>
<p>The following parameters are available for configuring system components.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Nullable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Logging</strong></td>
<td>Optional</td>
<td><a class="xref" href="Schemas/System_Logging_schema.html"><code>SystemLoggingConfiguration</code></a></td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><strong>Components</strong></td>
<td>Optional</td>
<td><a class="xref" href="Schemas/System_Components_schema.html"><code>[SystemComponentsConfiguration]</code></a></td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><strong>HealthEndpoints</strong></td>
<td>Optional</td>
<td><a class="xref" href="Schemas/System_HealthEndpoints_schema.html"><code>[SystemHealthEndpointsConfiguration]</code></a></td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><strong>Port</strong></td>
<td>Optional</td>
<td><a href="xref:portschema"><code>SystemPortConfiguration</code></a></td>
<td>Yes</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="system-components-example">System components example</h2>
<pre><code class="lang-json">   &quot;System&quot;: {
        &quot;Logging&quot;: {
            &quot;logLevel&quot;: &quot;Information&quot;,
            &quot;logFileSizeLimitBytes&quot;: 34636833,
            &quot;logFileCountLimit&quot;: 31
        },
        &quot;Components&quot;: [{
                &quot;componentId&quot;: &quot;OpcUa1&quot;,
                &quot;componentType&quot;: &quot;OpcUa&quot;
            },
            {
                &quot;componentId&quot;: &quot;Modbus1&quot;,
                &quot;componentType&quot;: &quot;Modbus&quot;
            },
            {
                &quot;componentId&quot;: &quot;Storage&quot;,
                &quot;componentType&quot;: &quot;EDS.Component&quot;
            }
        ],
        &quot;HealthEndpoints&quot;: [],
        &quot;Port&quot;: {
            &quot;port&quot;: 5590
        }
    }
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/Edge-Data-Store-Docs/blob/master/V1/Configuration/System components configuration.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
            <span id='copyright-text'>© 2019 - OSIsoft, LLC.<span>
        </span></span></div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>

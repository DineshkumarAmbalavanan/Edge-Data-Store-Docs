<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>OSIsoft Cloud Services (OCS) egress Quick Start </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="OSIsoft Cloud Services (OCS) egress Quick Start ">
    <meta name="generator" content="docfx 2.43.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../V1/index.html" width="46">
                <img id="logo" src="../../V1/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Edge System"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="ocsEgressQuickStart">
<h1 id="osisoft-cloud-services-ocs-egress-quick-start">OSIsoft Cloud Services (OCS) egress Quick Start</h1>

<p>This topic is a quick tour of getting data stored in the Edge Data Store into OCS. You can accomplish this by using the OCS OMF endpoint which is configured for OCS authentication.</p>
<h2 id="create-a-periodic-egress-configuration">Create a periodic egress configuration</h2>
<p>Configure Edge Storage periodic egress for the Osisoft Cloud Services (OCS) endpoint and credentials:</p>
<pre><code class="lang-json">[{
    &quot;Id&quot;: &quot;OCS&quot;,
    &quot;ExecutionPeriod&quot;: &quot;00:00:50&quot;,
    &quot;Name&quot;: null,
    &quot;NamespaceId&quot;: &quot;default&quot;,
    &quot;Description&quot;: null,
    &quot;Enabled&quot;: true,
    &quot;Backfill&quot;: false,
    &quot;EgressFilter&quot;: &quot;&quot;,
    &quot;StreamPrefix&quot;: &quot;ChangeMe&quot;,
    &quot;TypePrefix&quot;: &quot;ChangeMe&quot;,
    &quot;Endpoint&quot;: &quot;https://&lt;your OCS OMF endpoint endpoint&gt;&quot;,
    &quot;ClientId&quot;: &quot;&lt;your OCS ClientId&gt;&quot;,
    &quot;ClientSecret&quot;: &quot;&lt;your OCS ClientSecret&gt;&quot;,
    &quot;UserName&quot;: null,
    &quot;Password&quot;: null,
    &quot;DebugExpiration&quot;: null,
    &quot;ValidateEndpointCertificate&quot;: true,
    &quot;TokenEndpoint&quot;: null
}]
</code></pre><ol>
<li>Edit the JSON above to add the URL of your OCS OMF endpoint.</li>
<li>Add a ClientId and ClientSecret that can write data to your OCS tenant and namespace. The StreamPrefix and TypePrefix can be used to ensure uniqueness on the destination system, if required. If a StreamPrefix is specified it will be used to create a unique stream id on OCS. This configuration is set up to send all stream data to OCS. If you wish to only send specific streams, edit the EgressFilter value. Examples of more advanced scenarios are in the Egress section of this documentation.</li>
<li>Save the JSON with the file name PeriodicEgressEndpoints.json.</li>
<li>Run the following curl script to configure the Edge Storage to send data to OCS. It should be run from the same directory where the file exists on the device where the Edge Data Store is installed. The file and curl script can be run from any directory on the device as long as the file and the curl script are run from the same directory:</li>
</ol>
<pre><code class="lang-bash">curl -i -d &quot;@PeriodicEgressEndpoints.json&quot; -H &quot;Content-Type: application/json&quot; -X PUT http://localhost:5590/api/v1/configuration/storage/PeriodicEgressEndpoints/
</code></pre><p>When this command completes successfully, data will start being sent to OCS.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/Edge-Data-Store-Docs/blob/master/V1/Overview/OCSEgressQuickStart.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
            <span id='copyright-text'>© 2019 - OSIsoft, LLC.<span>
        </span></span></div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>

<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Performance </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Performance ">
    <meta name="generator" content="docfx 2.43.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../V1/index.html" width="46">
                <img id="logo" src="../../V1/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Edge System"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Performance">
<h1 id="performance">Performance</h1>

<p>Edge Data Store is designed to run on a variety of small hardware and software platforms, and to support running customer applications on the same platform. In order to assist in determining the  Edge Data Store is designed to run on a variety of small hardware and software platforms, and to support running customer applications on the same platform. To assist in determining the correct hardware and software configuration for a specific use, Edge Data Store has been tested on a variety of different hardware platforms with the supported ingress protocols at different event rates. Summary tables are provided below for each of the different protocols on different hardware platforms. </p>
<p>correct hardware and software configuration for a specific use, testing has been done with the Edge Data Store on a variety of different hardware platforms with the supported ingress protocols at different event rates. Summary tables are provided below for each of the different<br>protocols on different hardware platforms. </p>
<p>Mean and Maximum CPU use and Memory (Working Set) are provided. The values are averaged over one minute for the maximum computations, so it is possible there may be momentary spikes in memory or CPU use. These tables are provided as an approximate guideline to what might be expected as an Edge Data Store platform is designed. It is strongly recommended that before production deployment of Edge Data Store performance testing is conducted. Mean and Maximum CPU use and Memory (Working Set) are provided. The values are averaged over one minute for the maximum computations, so it is possible there may be momentary spikes in memory or CPU use. These tables are provided as an approximate guideline to what might be expected as an Edge Data Store platform is designed. It is strongly recommended that performance testing is conducted before production deployment of Edge Data Store.</p>
<h2 id="edge-data-store-platforms">Edge Data Store Platforms</h2>
<p>For this release of Edge Data Store performance measurements platforms have been divided into three categories with the maximum supported Ingress rate for each category:</p>
<ul>
<li>Small devices (e.g. 1 core CPU, 512 MB RAM): 30 events / sec</li>
<li>Medium devices (e.g. 1 - 2 core CPU, 1 – 2 GB RAM): 300 events / sec</li>
<li>Large devices (e.g. 2 – 4 core CPU, 4 GB RAM and larger): 3,000 events / sec</li>
</ul>
<h2 id="ingress-performance">Ingress Performance</h2>
<p>Data in the Edge Data Store can be ingressed using OMF, OPC UA or Modbus TCP. Each of these methods has different performance profiles, so they are treated separately.</p>
<p>When selecting the hardware to host Edge Data Store, there are some general principles that come out of our testing:</p>
<ol>
<li>EDS Adapters use less CPU than OMF. In general across all platforms CPU use for EDS OPC UA and EDS Modbus TCP adapters is about half that of OMF ingress at the same event rates.</li>
<li>Memory use is largely determined by the number of streams of data being written to. More streams of data will require additional RAM memory (in addition to storage space) to host additional streams.</li>
<li>Windows is slightly more efficient than Linux on similar hardware. Both memory and CPU are slightly lower when running on Windows 10 than on Linux on the AMD64/Intel x64 platform where both are supported. </li>
<li>SSD storage is recommended for maximum performance and reliability. Our testing was done across all storage media - SSDs, HDDs, eMMC, and SD cards. EDS testing was successful on all those platforms but for maximum performance and reliability SSD storage is the best choice.</li>
</ol>
<p>In the tables below are some representative performance numbers based on internal testing of the Edge Data Store. Performance on any specific platform is expected to vary from the tables below, and the numbers below are only estimates of what can be expected on a real device in production. The columns of the table are:</p>
<ul>
<li>Size - Small, Medium, or Large based on the definition earlier in this topic</li>
<li>Computer Type - Maker of the hardware tested</li>
<li>Storage - hard drive (HDD), solid state drive (SSD), eMMC, or SD card</li>
<li>RAM - total amount of RAM</li>
<li>OS - Linux or Windows</li>
<li>Cores - number of processor cores in the CPU</li>
<li>Events Per Second - number of events per second being ingressed</li>
<li>Stream Count - total number of streams on the device in the default namespace</li>
<li>Max RAM MB - maximum memory used by EDS in this test</li>
<li>Max CPU % - maximum CPU percentage used by EDS in this test</li>
</ul>
<h3 id="omf-ingress-performance">OMF Ingress Performance</h3>
<table>
<thead>
<tr>
<th>Size</th>
<th>Computer Type</th>
<th>Storage</th>
<th>Process</th>
<th>RAM</th>
<th>OS</th>
<th>Cores</th>
<th>Events Second</th>
<th>Stream Count</th>
<th>Max RAM MB</th>
<th>Max CPU %</th>
</tr>
</thead>
<tbody>
<tr>
<td>Small</td>
<td>BeagleBone</td>
<td>SD Card</td>
<td>ARM32</td>
<td>512 MB</td>
<td>Linux</td>
<td>1</td>
<td>2</td>
<td>30</td>
<td>130</td>
<td>90</td>
</tr>
<tr>
<td>Medium</td>
<td>Raspberry PI 3</td>
<td>SD Card</td>
<td>ARM32</td>
<td>1 GB</td>
<td>Linux</td>
<td>4</td>
<td>300</td>
<td>300</td>
<td>202</td>
<td>50</td>
</tr>
<tr>
<td>Large</td>
<td>Toshiba</td>
<td>HDD</td>
<td>x64</td>
<td>4 GB</td>
<td>Linux</td>
<td>2</td>
<td>1500</td>
<td>3000</td>
<td>912</td>
<td>90</td>
</tr>
</tbody>
</table>
<h3 id="modbus-tcp-ingress-performance">Modbus TCP Ingress Performance</h3>
<table>
<thead>
<tr>
<th>Size</th>
<th>Computer Type</th>
<th>Storage</th>
<th>Process</th>
<th>RAM</th>
<th>OS</th>
<th>Cores</th>
<th>Events Second</th>
<th>Stream Count</th>
<th>Max RAM MB</th>
<th>Max CPU %</th>
</tr>
</thead>
<tbody>
<tr>
<td>Small</td>
<td>BeagleBone</td>
<td>SD Card</td>
<td>ARM32</td>
<td>512 MB</td>
<td>Linux</td>
<td>1</td>
<td>15</td>
<td>30</td>
<td>120</td>
<td>65</td>
</tr>
<tr>
<td>Medium</td>
<td>Raspberry PI 3</td>
<td>SD Card</td>
<td>ARM32</td>
<td>1 GB</td>
<td>Linux</td>
<td>4</td>
<td>38</td>
<td>300</td>
<td>200</td>
<td>30</td>
</tr>
<tr>
<td>Large</td>
<td>Dell</td>
<td>SSD</td>
<td>x64</td>
<td>8 GB</td>
<td>Linux</td>
<td>4</td>
<td>1500</td>
<td>3000</td>
<td>950</td>
<td>90</td>
</tr>
</tbody>
</table>
<h3 id="opc-ua-ingress-performance">OPC UA Ingress Performance</h3>
<table>
<thead>
<tr>
<th>Size</th>
<th>Computer Type</th>
<th>Storage</th>
<th>Process</th>
<th>RAM</th>
<th>OS</th>
<th>Cores</th>
<th>Events Second</th>
<th>Stream Count</th>
<th>Max RAM MB</th>
<th>Max CPU %</th>
</tr>
</thead>
<tbody>
<tr>
<td>Small</td>
<td>BeagleBone</td>
<td>SD Card</td>
<td>ARM32</td>
<td>512 MB</td>
<td>Linux</td>
<td>1</td>
<td>50</td>
<td>50</td>
<td>150</td>
<td>95</td>
</tr>
<tr>
<td>Medium</td>
<td>Raspberry PI 3</td>
<td>SD Card</td>
<td>ARM32</td>
<td>1 GB</td>
<td>Linux</td>
<td>4</td>
<td>300</td>
<td>300</td>
<td>220</td>
<td>30</td>
</tr>
<tr>
<td>Large</td>
<td>Dell</td>
<td>SSD</td>
<td>x64</td>
<td>8 GB</td>
<td>Linux</td>
<td>4</td>
<td>3000</td>
<td>3000</td>
<td>1100</td>
<td>34</td>
</tr>
</tbody>
</table>
<h2 id="periodic-egress-performance">Periodic Egress Performance</h2>
<p>An important part of periodic egress performance is the amount of network bandwidth available between the device hosting the Edge Data Store and the PI Web API or OCS endpoint. The performance numbers below reflect having access to a 1 GB LAN connection and a high speed connection to the Internet. If the device is located in an location with limited network bandwidth a lower level of performance can be expected.</p>
<p>Egress has a much lower performance impact on Edge Data Store than Ingress. Generally the peformance impact of egress on memory and CPU use is generally only a small percentage of the CPU and memory use of Ingress, so is not a major factor in system design.</p>
<h3 id="periodic-egress-performance-to-pi-web-api">Periodic Egress Performance to PI Web API</h3>
<p>Performance testing of Periodic Egress between Edge Data Store and PI Web API was done with a 1 GB network connection between the Edge Data Store computer and PI Web API with PI Web API hosted on a Xeon based server class machine that also included a local PI Data Archive installation. The Edge Data Store test device was set to backfill, and several million events were sent to the PI Web API. In all cases egress performance exceeded 10,000 events per second, which exceeds the maximum ingress rate for Edge Data Store of 3,000 events per second. In addition extended tests for several weeks with an egress rate of 3,000 events per second.</p>
<h3 id="periodic-egress-performance-to-osisoft-cloud-services-ocs">Periodic Egress Performance to OSIsoft Cloud Services (OCS)</h3>
<p>Performance testing of Periodic Egress between Edge Data Store and OCS was done with a 1 GB network connection between the Edge Data Store computer and a high speed Internet connection. The Edge Data Store test device was set to backfill, and several million events were sent to OCS. In all cases egress performance exceeded 10,000 events per second, which exceeds the maximum ingress rate for Edge Data Store of 3,000 events per second. In addition extended tests for several weeks with a lower egress rate.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/Edge-Data-Store-Docs/blob/master/V1/Overview/Performance.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
            <span id='copyright-text'>© 2019 - OSIsoft, LLC.<span>
        </span></span></div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>

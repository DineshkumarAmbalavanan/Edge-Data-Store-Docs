<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Edge Storage SDS quick start </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Edge Storage SDS quick start ">
    <meta name="generator" content="docfx 2.43.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../V1/index.html" width="46">
                <img id="logo" src="../../V1/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Edge System"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="sdsQuickStart">
<h1 id="edge-storage-sds-quick-start">Edge Storage SDS quick start</h1>

<p>This quick start gives an overview on how to get data into the Edge Storage component using the Sequential Data Store (SDS) REST API. </p>
<p>Prerequisites:</p>
<ul>
<li>Edge Data Store installed</li>
<li>Edge Data Store accessible through a REST API using the default installed port (5590)</li>
</ul>
<p>The examples here use curl, a commonly available tool on both Windows and Linux, and command line commands. You can use the same operations with any programming language or tool that supports making REST calls. You can also accomplish data retrieval steps (GET commands) using a browser, if available on your device.</p>
<h2 id="create-an-sds-type">Create an SDS type</h2>
<p>Complete the following to create an SDS type that describes the format of the data to be stored in a container:</p>
<ol>
<li>Create a JSON file using the example below:</li>
</ol>
<pre><code class="lang-json">{
    &quot;Id&quot;: &quot;Simple&quot;,
    &quot;Name&quot;: &quot;Simple&quot;,
    &quot;SdsTypeCode&quot;: 1,
    &quot;Properties&quot;: [
        {
            &quot;Id&quot;: &quot;Time&quot;,
            &quot;Name&quot;: &quot;Time&quot;,
            &quot;IsKey&quot;: true,
            &quot;SdsType&quot;: {
                &quot;SdsTypeCode&quot;: 16
            }
        },
        {
            &quot;Id&quot;: &quot;Measurement&quot;,
            &quot;Name&quot;: &quot;Measurement&quot;,
            &quot;SdsType&quot;: {
                &quot;SdsTypeCode&quot;: 14
            }
        }
    ]
}
</code></pre><p><strong>Note:</strong> The data to be written is a timestamp and numeric value.  It is indexed by a timestamp, and the numeric value that will be stored is a 64 bit floating point value. </p>
<ol>
<li>Save the JSON as a file with the name SDSCreateType.json.</li>
<li>Run the following curl script:</li>
</ol>
<pre><code class="lang-bash">curl -i -d &quot;@SDSCreateType.json&quot; -H &quot;Content-Type: application/json&quot;  -X POST http://localhost:5590/api/v1/tenants/default/namespaces/default/types/Simple
</code></pre><p>When the previous command completes successfully, an SDS type with the same name is created on the server. You can create any number of containers from a single type, as long as they use a timestamp as an index and a 32 bit floating point value. You only need to create a type the first time you send data with a custom application. It does not cause an error to resend the same definition at a later time.</p>
<h2 id="create-an-sds-stream">Create an SDS stream</h2>
<p>Complete the following to create a stream: </p>
<ol>
<li>Create a JSON file using the example below:</li>
</ol>
<pre><code class="lang-json">{
    &quot;Id&quot;: &quot;Simple&quot;,
    &quot;Name&quot;: &quot;Simple&quot;,
    &quot;TypeId&quot;: &quot;Simple&quot;
}
</code></pre><p><strong>Note:</strong> This stream references the type you created in the previous step.  An error will occur if the type does not exist when the stream is created. As with an SDS type, you only need to create a stream once before sending data events. Resending the same definition repeatedly does not cause an error.</p>
<ol>
<li>Save the JSON as a file with the name SDSCreateStream.json.</li>
<li>Run the following curl script:</li>
</ol>
<pre><code class="lang-bash">curl -i -d &quot;@SDSCreateStream.json&quot; -H &quot;Content-Type: application/json&quot;  -X POST http://localhost:5590/api/v1/tenants/default/namespaces/default/streams/Simple
</code></pre><p>When the previous command completes successfully, an SDS stream is created on the server to store data defined by the specified type.</p>
<h2 id="write-data-events-to-the-sds-stream">Write data events to the SDS stream</h2>
<p>After you have created a type and container, you can write data using SDS. Complete the following to write data to a stream:</p>
<ol>
<li>Create a JSON file using the example below:</li>
</ol>
<pre><code class="lang-json">[{
    &quot;Time&quot;: &quot;2017-11-23T17:00:00Z&quot;,
    &quot;Measurement&quot;: 50.0
},
{
    &quot;Time&quot;: &quot;2017-11-23T18:00:00Z&quot;,
    &quot;Measurement&quot;: 60.0
}]
</code></pre><p><strong>Note:</strong> This example includes two data events that will be stored in the SDS Stream you created in the previous steps. As a best practice, you should batch SDS values when writing them for optimal performance.</p>
<ol>
<li>Save the JSON as a file with the name SDSWriteData.json.</li>
<li>Run the following curl script:</li>
</ol>
<pre><code class="lang-bash">curl -i -d &quot;@SDSWriteData.json&quot; -H &quot;Content-Type: application/json&quot;  -X POST http://localhost:5590/api/v1/tenants/default/namespaces/default/streams/Simple/Data
</code></pre><p>When this command completes successfully, two values are written to the SDS stream.</p>
<h2 id="read-last-data-written-using-sds">Read last data written using SDS</h2>
<p>You use the SDS REST API to read back data which has been written to the server. The following is an example curl script that reads back the last value entered:</p>
<pre><code class="lang-bash">curl http://localhost:5590/api/v1/tenants/default/namespaces/default/streams/Simple/Data/Last
</code></pre><p>You can also use the following GET command to return the last value written:</p>
<pre><code class="lang-json">{&quot;Time&quot;:&quot;2017-11-23T18:00:00Z&quot;,&quot;Measurement&quot;:60.0}
</code></pre><h2 id="read-a-range-of-data-events-written-using-sds">Read a range of data events written using SDS</h2>
<p>You use the SDS REST API to read back data which has been written to the server. The following is an example curl script that reads back a time range of values entered:</p>
<pre><code class="lang-bash">curl &quot;http://localhost:5590/api/v1/tenants/default/namespaces/default/streams/Simple/Data?startIndex=2017-07-08T13:00:00Z&amp;count=100&quot;
</code></pre><pre><code class="lang-json">[{&quot;Time&quot;:&quot;2017-11-23T17:00:00Z&quot;,&quot;Measurement&quot;:50.0},{&quot;Time&quot;:&quot;2017-11-23T18:00:00Z&quot;,&quot;Measurement&quot;:60.0}]
</code></pre><p>Both values that were entered were returned.  A maximum of 100 values after the specified timestamp will be returned.</p>
<p>For more information on SDS APIs, see <a class="xref" href="../SDS/SequentialDataStore.html">Sequential Data Store</a>.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/Edge-Data-Store-Docs/blob/master/V1/Overview/SDSQuickStart.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
            <span id='copyright-text'>© 2019 - OSIsoft, LLC.<span>
        </span></span></div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
